{"ast":null,"code":"import _defineProperty from\"C:/Users/croft/Desktop/pet_shelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/croft/Desktop/pet_shelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/croft/Desktop/pet_shelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useEffect,useState}from'react';import{navigate}from'@reach/router';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Edit=function Edit(props){var _useState=useState({name:\"\",type:\"\",description:\"\",skill1:\"\",skill2:\"\",skill3:\"\"}),_useState2=_slicedToArray(_useState,2),petInfo=_useState2[0],setPetInfo=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];useEffect(function(){axios.get(\"http://localhost:8000/pets/\".concat(props.id)).then(function(res){console.log(res);setPetInfo(res.data.results);}).catch(function(err){return console.log(err);});},[]);var changeHandler=function changeHandler(e){console.log(\"changing something!\");setPetInfo(_objectSpread(_objectSpread({},petInfo),{},_defineProperty({},e.target.name,e.target.value.toUpperCase())));};var submitHandler=function submitHandler(e){e.preventDefault();axios.put(\"http://localhost:8000/pets/\".concat(props.id),petInfo).then(function(res){console.log(res);if(res.data.results){navigate(\"/\");}else{console.log(\"Form filled out improperly!\");setFormErrors(res.data.error.errors);}}).catch(function(err){return console.log(\"error submitting form!\",err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"bg-light p-3\",children:[\"Edit: \",/*#__PURE__*/_jsxs(\"u\",{children:[\" \",petInfo.name,\" \"]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,className:\"border border-dark p-3 row mx-1 bg-light\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left col-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pet Name:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",name:\"name\",id:\"\",className:\"form-control\",value:petInfo.name}),formErrors.name?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:formErrors.name.message}):\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pet Type:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",name:\"type\",id:\"\",className:\"form-control\",value:petInfo.type}),formErrors.type?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:formErrors.type.message}):\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pet Description\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:changeHandler,name:\"description\",id:\"\",cols:\"10\",rows:\"10\",className:\"form-control\",value:petInfo.description}),formErrors.description?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:formErrors.description.message}):\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right col-2\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Skills: (optional) \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Skill: \"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",name:\"skill1\",id:\"\",className:\"form-control\",value:petInfo.skill1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Skill:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",name:\"skill2\",id:\"\",className:\"form-control\",value:petInfo.skill2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Skill:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",name:\"skill3\",id:\"\",className:\"form-control\",value:petInfo.skill3})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Edit Pet!\",className:\"mt-3 btn btn-primary\"})]})]})]});};export default Edit;","map":{"version":3,"sources":["C:/Users/croft/Desktop/pet_shelter/client/src/components/Edit.js"],"names":["axios","React","useEffect","useState","navigate","Edit","props","name","type","description","skill1","skill2","skill3","petInfo","setPetInfo","formErrors","setFormErrors","get","id","then","res","console","log","data","results","catch","err","changeHandler","e","target","value","toUpperCase","submitHandler","preventDefault","put","error","errors","message"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { navigate } from '@reach/router'\r\n\r\nconst Edit = (props) => {\r\n\r\n    const [petInfo, setPetInfo] = useState({\r\n        name: \"\",\r\n        type: \"\",\r\n        description: \"\",\r\n        skill1: \"\",\r\n        skill2: \"\",\r\n        skill3: \"\"\r\n    })\r\n\r\n    const [formErrors, setFormErrors] = useState({})\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:8000/pets/${props.id}`)\r\n            .then(res => {\r\n                console.log(res)\r\n                setPetInfo(res.data.results)\r\n\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, [])\r\n\r\n    const changeHandler = (e) => {\r\n        console.log(\"changing something!\")\r\n            setPetInfo({\r\n                ...petInfo,\r\n                [e.target.name]: e.target.value.toUpperCase()\r\n            })\r\n    }\r\n\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        axios.put(`http://localhost:8000/pets/${props.id}`, petInfo)\r\n        .then(res => {\r\n            console.log(res)\r\n            if (res.data.results) {\r\n                navigate(\"/\")\r\n            } else {\r\n                console.log(\"Form filled out improperly!\")\r\n                setFormErrors(res.data.error.errors)\r\n            }\r\n        })\r\n        .catch(err => console.log(\"error submitting form!\", err))\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h3 className=\"bg-light p-3\">Edit: <u> {petInfo.name} </u></h3>\r\n\r\n            <form onSubmit={submitHandler} className='border border-dark p-3 row mx-1 bg-light'>\r\n\r\n                <div className=\"left col-2\">\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Pet Name:</label>\r\n                        <input onChange={changeHandler} type=\"text\" name=\"name\" id=\"\" className=\"form-control\" value={petInfo.name}/>\r\n                    {formErrors.name ? <p className=\"text-danger\">{formErrors.name.message}</p> : \"\"}\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Pet Type:</label>\r\n                        <input onChange={changeHandler} type=\"text\" name=\"type\" id=\"\" className=\"form-control\" value={petInfo.type}/>\r\n                        {formErrors.type ? <p className=\"text-danger\">{formErrors.type.message}</p> : \"\"}\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Pet Description</label>\r\n                        <textarea onChange={changeHandler} name=\"description\" id=\"\" cols=\"10\" rows=\"10\" className=\"form-control\" value={petInfo.description}></textarea>\r\n                        {formErrors.description ? <p className=\"text-danger\">{formErrors.description.message}</p> : \"\"}\r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n                <div className=\"right col-2\">\r\n                    <p>Skills: (optional) </p>\r\n                    <div className=\"form-group\">\r\n                        <label>Skill: </label>\r\n                        <input onChange={changeHandler} type=\"text\" name=\"skill1\" id=\"\" className=\"form-control\" value={petInfo.skill1}/>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Skill:</label>\r\n                        <input onChange={changeHandler} type=\"text\" name=\"skill2\" id=\"\" className=\"form-control\" value={petInfo.skill2}/>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Skill:</label>\r\n                        <input onChange={changeHandler} type=\"text\" name=\"skill3\" id=\"\" className=\"form-control\" value={petInfo.skill3}/>\r\n                    </div>\r\n\r\n\r\n                    <input type=\"submit\" value=\"Edit Pet!\" className=\"mt-3 btn btn-primary\"/>\r\n                </div>\r\n\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Edit;"]},"metadata":{},"sourceType":"module"}